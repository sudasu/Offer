# 日志平台

## [ops-log查询](https://info.bilibili.co/pages/viewpage.action?pageId=7547540)

全文搜索: error //会搜索切词的结果,即如果是多个字段组成的句子，会拆分关键字进行搜索
全文请求查询: "error" //匹配包含该字符串的结果
指定字段查询: level: ERROR //针对该字段切词搜索
精确查询字段: log: "response error" //针对该字段精确查询
多条件查询：log: "response error" AND env:"pre" //支持AND OR--必须要大写才会生效，可以使用()对条件进行分组，方便逻辑分组
反查询: NOT level:INFO //查询不符合该条件的结果
通配符查询: log: "success len*" //通配符(非正则, 支持 ? * )
正则查询: log: /.*172.*/ //性能较差,请确保时间范围较小,不支持 ^ 和 $
数值比较查询: ts: >2 //支持> < >= <= ，且field是数值类型
range查询:
ts: [3 TO 4]
ts: {3 TO 4}
ts: [3 TO 4}
ts:{3 TO 4] //支持数值和日期类型,[]包含边界,{}不包含边界
保留字符:
+ - = && || > < ! ( ) { } [ ] ^ " ~ * ? : \ /   //检索value里包含这些字段时需要转义，字符前加 \ 

## [日志管理平台](https://info.bilibili.co/display/documentation/Billions+FAQ)

如果字段索引无法查询，需要添加mapping映射。