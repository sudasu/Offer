# 最佳实践

## 批量删除

## 批量插入

### insert into $table(...) values(...) on duplicate key update $col = $value;

1. 在执行插入时，如果遇见了unique索引或primary key中出现重复值，则等同于update操作，但是显示影响2行
2. 如果有多个条件被匹配，则会表现为condition1 or condition2 ,但只会对第一次匹配到的行执行update操作

## 使用redis作为读数据库，mysql读从库存在的意义

数据备份？

### mysql不要使用外键的原因

1. mysql的及联删除导致如redis等相关依赖没有察觉