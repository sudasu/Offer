# 并查集

```go
func longestConsecutive(nums []int) int {
	parent := make(map[int]int) // 可以用Map也可以用数组
	var find func(int) int
	for _, v := range nums {
		parent[v] = v
	}
    // find函数，多多调用压缩路径
	find = func(x int) int {
		if _, ok := parent[x]; !ok { // go基本类型没有空值
			return math.MinInt
		}
		if parent[x] == x {
			return x
		}
		parent[x] = find(parent[x]) // 路径压缩
		return parent[x]
	}
	union := func(x, y int) { // union一般是两两union
		xp := find(x)
		yp := find(y)
		if xp != yp {
			parent[xp] = yp
		}
	}
	for _, v := range nums {
		if find(v+1) != math.MinInt {
			union(v, v+1)
		}
	}
	max := -1
	for _, v := range nums {
		if find(v)-v > max {
			max = find(v) - v
		}
	}
	return max + 1
}
```